<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EveryAlt Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="everyalt-options">
    <!-- Header -->
    <header class="everyalt-header">
      <div class="everyalt-header-inner">
        <div class="everyalt-brand">
          <svg viewBox="0 0 512 512" width="28" height="28">
            <path d="M0 0 C15.51 0 31.02 0 47 0 C47 9.9 47 19.8 47 30 C161.18 30 275.36 30 393 30 C393 136.92 393 243.84 393 354 C239.22 354 85.44 354 -73 354 C-73 247.08 -73 140.16 -73 30 C-48.91 30 -24.82 30 0 30 C0 20.1 0 10.2 0 0 Z M-48 55 C-48 86.68 -48 118.36 -48 151 C-24.91352926 151.48131195 -24.91352926 151.48131195 -1.82635117 151.80406189 C6.43726459 151.8924523 14.69827348 152.0043235 22.95996094 152.20703125 C29.50547103 152.36755319 36.04900789 152.46996766 42.59643173 152.50541592 C46.05798768 152.5261137 49.5139045 152.57396217 52.97363281 152.69168091 C70.59015063 153.55584436 70.59015063 153.55584436 85.45278931 145.35850525 C88.00091442 142.62333181 90.32652702 139.7816645 92.57098389 136.79393005 C95.67289156 132.89991841 99.74249919 130.45812726 104 128 C104.59329102 127.6488916 105.18658203 127.2977832 105.79785156 126.93603516 C129.78669616 112.88273703 157.69132141 107.97289999 184.94580078 114.45654297 C201.14468037 118.74210346 221.52670373 127.11387924 231.35502625 141.26908875 C235.0034768 146.19640495 238.75524186 150.17519156 244.85815811 151.7265358 C252.792886 152.76821565 260.77936823 152.53738499 268.76118684 152.31812119 C272.2575044 152.23608419 275.75401291 152.22915896 279.25114441 152.21379089 C285.85361097 152.17360393 292.45323304 152.06724288 299.05445451 151.93624753 C307.31765523 151.77588037 315.58133149 151.70535056 323.84570312 151.63476562 C338.56601022 151.50864983 353.28012289 151.24819507 368 151 C368 119.32 368 87.64 368 55 C230.72 55 93.44 55 -48 55 Z M97 157 C96.3296875 157.65742188 95.659375 158.31484375 94.96875 158.9921875 C80.39664472 174.42537172 73.52912735 197.32495257 73.8515625 218.21875 C74.94941363 238.78901319 82.24172993 257.61279085 96 273 C97.10794922 274.24910156 97.10794922 274.24910156 98.23828125 275.5234375 C114.31780269 292.62931137 136.47565903 301.24227869 159.734375 301.99609375 C183.85471527 302.29569147 205.01368579 291.83025898 222.0625 275.375 C236.10300096 261.36985441 245.14287211 240.86300713 246 221 C246.03996094 220.26136719 246.07992187 219.52273438 246.12109375 218.76171875 C246.74804663 196.22829474 239.01875521 174.79693205 224 158 C223.26136719 157.16726562 222.52273438 156.33453125 221.76171875 155.4765625 C207.69290745 140.50974197 187.77113678 130.59922428 167.1875 129.68359375 C139.20178339 128.93489051 116.98929069 137.29791176 97 157 Z " fill="#0750b6" transform="translate(96,79)"/>
            <path d="M0 0 C14.17819241 -0.64540964 26.50188509 4.18225429 37.1875 13.29296875 C47.73616395 23.22731783 52.37496363 34.6517882 54.03515625 48.8671875 C54.45058316 63.48502179 48.35998574 76.50941967 38.72265625 87.19140625 C27.38220329 97.21016613 15.09200706 101.74812613 0.046875 101.43359375 C-14.0993207 100.4029661 -26.4553201 94.20768236 -36.12109375 83.8671875 C-44.67708035 73.24970413 -49.37911116 59.84108027 -48.27734375 46.19140625 C-46.07989237 31.49827796 -39.49505602 19.31977041 -27.640625 10.15234375 C-19.17809701 4.47846621 -10.1672279 0.85453545 0 0 Z " fill="#0750b6" transform="translate(253.27734375,243.80859375)"/>
          </svg>
          <h1>EveryAlt</h1>
        </div>
        <p class="everyalt-tagline">Free, open-source alternative text generator for every image. Just right click on any image to generate alt text that you can easily copy and paste.</p>
        <p class="everyalt-tagline">Created by <a href="https://hdc.net" target="_blank" rel="noopener">HDC</a>. We also have a WordPress plugin. Learn more at <a href="https://everyalt.com" target="_blank" rel="noopener">EveryAlt.com</a>.</p>
      </div>
    </header>

    <!-- Main content -->
    <main class="everyalt-main">

      <!-- API Key Section -->
      <section class="everyalt-card">
        <h2>OpenAI API Key</h2>
        <p class="everyalt-help">
          Your API key is used to call OpenAI's Vision API. You are billed directly by OpenAI for usage; EveryAlt is free.
          <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener">Get an API key</a>
        </p>
        <div class="everyalt-field-row">
          <input
            type="password"
            id="api-key"
            placeholder="sk-..."
            autocomplete="off"
            spellcheck="false"
          >
          <button type="button" id="validate-btn" class="everyalt-btn-outline">Validate</button>
        </div>
        <div id="key-status" class="everyalt-status" aria-live="polite"></div>
      </section>

      <!-- Prompt Section -->
      <section class="everyalt-card">
        <h2>Alt Text Prompt</h2>
        <p class="everyalt-help">
          This instruction is sent to the AI with each image. The model should return only the alt text.
        </p>
        <textarea
          id="custom-prompt"
          rows="4"
          placeholder="Describe this image in one short, clear sentence..."
        ></textarea>
        <button type="button" id="reset-prompt-btn" class="everyalt-link-btn">Reset to default</button>
      </section>

      <!-- Advanced -->
      <section class="everyalt-card">
        <h2>Advanced</h2>
        <p class="everyalt-help">
          EveryAlt uses <strong>gpt-5-nano</strong>, the cheapest and most efficient vision model. A typical image costs roughly 0.02&cent;.
        </p>
        <div class="everyalt-form-group">
          <label for="max-tokens">Max completion tokens</label>
          <input type="number" id="max-tokens" min="1" max="4096" step="1" value="1024">
          <p class="everyalt-help-sm">Maximum tokens the model can use for the response (including reasoning). Default: 1024.</p>
        </div>
      </section>

      <!-- Save Button -->
      <div class="everyalt-save-row">
        <button type="button" id="save-btn" class="everyalt-btn-primary">Save Settings</button>
        <span id="save-status" class="everyalt-save-status" aria-live="polite"></span>
      </div>

      <!-- Generation Log -->
      <section class="everyalt-card">
        <div class="everyalt-log-header">
          <h2>Recent Generations</h2>
          <button type="button" id="clear-log-btn" class="everyalt-link-btn">Clear log</button>
        </div>
        <p class="everyalt-help">Last 10 images processed. Token usage and estimated cost per generation.</p>
        <div id="log-container" class="everyalt-log-container">
          <p class="everyalt-log-empty">No generations yet. Right-click an image to get started.</p>
        </div>
        <div id="log-totals" class="everyalt-log-totals" style="display:none;"></div>
      </section>

    </main>

    <!-- Footer -->
    <footer class="everyalt-footer">
      <p>EveryAlt v1.0.0 &mdash; Free, unlimited, your key. By <a href="https://hdc.net" target="_blank" rel="noopener">HDC</a></p>
    </footer>
  </div>

  <script src="options.js"></script>
</body>
</html>
